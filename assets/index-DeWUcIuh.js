import{r as e,j as t,u as s,C as r,S as a,O as n,_ as i,a as o,X as l,b as c,c as d,M as u,d as m,e as h,R as p,L as x,f,g,P as b,h as y,i as w,k as j,l as v}from"./chunks/vendor-BxeO_5EK.js";import{l as k,g as N,D as S,o as M,e as C}from"./chunks/three-B0cWb7TA.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();function I(e){const t=JSON.stringify(e);let s=0;for(let r=0;r<t.length;r++){s=(s<<5)-s+t.charCodeAt(r),s&=s}return s.toString(36)}const z={set(e,t){const s=function(e){const t=JSON.stringify(e);return btoa(t)}({value:t,timestamp:Date.now(),checksum:I(t)});localStorage.setItem(`fo_${e}`,s)},get(e){try{const t=localStorage.getItem(`fo_${e}`);if(!t)return null;const s=function(e){try{const t=atob(e);return JSON.parse(t)}catch(t){return null}}(t);if(!s)return null;if(!function(e,t){return I(e)===t}(s.value,s.checksum))return console.warn("Data integrity check failed for:",e),this.remove(e),null;if("string"==typeof s.value)try{return JSON.parse(s.value)}catch{return s.value}return s.value}catch(t){return console.error("Error reading secure storage:",t),null}},remove(e){localStorage.removeItem(`fo_${e}`)},clear(){Object.keys(localStorage).forEach(e=>{e.startsWith("fo_")&&localStorage.removeItem(e)})}};const R=e.createContext(),D=({children:s})=>{const[r,a]=e.useState([]),[n,i]=e.useState(null);e.useEffect(()=>{const e=z.get("sessions");e&&a(Array.isArray(e)?e:[])},[]),e.useEffect(()=>{r.length>0&&z.set("sessions",r)},[r]);const o={sessions:r,currentSession:n,setCurrentSession:i,addSession:e=>{const t=[...r,e];a(t)}};return t.jsx(R.Provider,{value:o,children:s})},E=e.createContext(),T=()=>{const t=e.useContext(E);if(!t)throw new Error("useStardust must be used within StardustProvider");return t},A=({children:s})=>{const[r,a]=e.useState(()=>{const e=z.get("stardust"),t=parseInt(e,10);return isNaN(t)?0:t}),[n,i]=e.useState(!1),[o,l]=e.useState(0),c=e.useRef(null);e.useEffect(()=>{z.set("stardust",r)},[r]),e.useEffect(()=>()=>{c.current&&clearTimeout(c.current)},[]);const d={stardust:r,addStardust:e=>{const t=(e=>{let t=Math.floor(e);return t+=10*Math.floor(e/60),t})(e);return a(e=>e+t),l(t),i(!0),c.current&&clearTimeout(c.current),c.current=setTimeout(()=>{i(!1),c.current=null},3e3),t},spendStardust:e=>r>=e&&(a(t=>t-e),!0),resetStardust:()=>{a(0),z.removeItem("stardust")},showStardustGain:n,recentGain:o};return t.jsx(E.Provider,{value:d,children:s})},P=e.createContext(),L=()=>{const t=e.useContext(P);if(!t)throw new Error("useTimeTracking must be used within TimeTrackingProvider");return t},G=({children:s})=>{const[r,a]=e.useState(0),[n,i]=e.useState([]),[o,l]=e.useState([]),[c,d]=e.useState(null),[u,m]=e.useState(!1),h=()=>{const e=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return Array.from({length:7},(t,s)=>{const r=s-6,a=new Date;a.setDate(a.getDate()+r);const n=a.getDay(),i=a.toDateString();return{day:0===r?"Today":e[n],minutes:0,date:i}})};e.useEffect(()=>{(()=>{const e=(new Date).toDateString(),t=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],s=z.get("week-data");let r=[];if(s)try{const a=s;if(Array.isArray(a)&&7===a.length){const s=a.map((s,r)=>{const a=new Date(s.date).getDay(),n=s.date===e;return"Today"!==s.day||n?n&&"Today"!==s.day?{...s,day:"Today"}:s:{...s,day:t[a]}});r=s[s.length-1].date===e?s:p(s,e)}else console.warn("Invalid week data, reinitializing"),r=h()}catch(d){console.error("Error loading week data:",d),r=h()}else r=h();const n=z.get("tracking-data");let o=0,c=[];if(n)try{const t=n;t.date===e?(o=t.todayTotal||0,c=t.categoryData||[]):(o=0,c=[],z.set("tracking-data",{date:e,todayTotal:0,categoryData:[]}))}catch(d){console.error("Error loading tracking data:",d),o=0,c=[]}if(Math.round(o/60),o>0){const e=r.length-1;r[e]&&(r[e]={...r[e],minutes:Math.round(o/60)})}l([...r]),a(o),i(c),m(!0),z.set("week-data",r)})()},[]);const p=(e,t)=>{const s=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],r=e[e.length-1]?.date;if(!r)return h();const a=new Date(r),n=new Date(t);a.setHours(0,0,0,0),n.setHours(0,0,0,0);const i=Math.floor((n-a)/864e5);if(i<=0)return e;if(i>=7)return h();let o=e.slice(i);for(let l=0;l<i;l++){const e=new Date;e.setDate(e.getDate()-(i-l-1));const t=e.getDay(),r=e.toDateString(),a=l===i-1;o.push({day:a?"Today":s[t],minutes:0,date:r})}return o=o.map((e,t)=>{if("Today"===e.day&&t!==o.length-1){const t=new Date(e.date).getDay();return{...e,day:s[t]}}return e}),[...o]};e.useEffect(()=>{if(!u)return;const e={date:(new Date).toDateString(),todayTotal:r,categoryData:n};z.set("tracking-data",e)},[r,n,u]),e.useEffect(()=>{u&&l(e=>{const t=[...e],s=t.length-1;if(t[s]){const e=Math.round(r/60);if(t[s].minutes!==e)return t[s]={...t[s],minutes:e},z.set("week-data",t),t}return e})},[r,u]);const x=(e,t=null)=>{a(t=>t+e),t&&i(s=>s.find(e=>e.name===t)?s.map(s=>s.name===t?{...s,time:s.time+e}:s):[...s,{name:t,time:e}])},f={todayTotal:r,categoryData:n,weekData:o,currentCategory:c,isInitialized:u,setCategory:e=>{d(e)},addFocusTime:x,recordSession:(e,t=null)=>{const s=z.get("sessions")||[];s.push({date:(new Date).toISOString(),duration:e,category:t}),z.set("sessions",s),x(e,t)},getLongestSession:()=>{const e=z.get("sessions");if(!e)return 0;try{const t=e,s=new Date;s.setDate(s.getDate()-7);const r=t.filter(e=>new Date(e.date)>=s);return 0===r.length?0:Math.max(...r.map(e=>e.duration))}catch(t){return console.error("Error getting longest session:",t),0}}};return t.jsx(P.Provider,{value:f,children:s})};function q({count:r,color:a,radius:n=3,isActive:i}){const o=e.useRef(),l=e.useMemo(()=>{const e=new Float32Array(3*r);for(let t=0;t<r;t++){const s=Math.random()*Math.PI*2,r=Math.acos(2*Math.random()-1),a=n+.2*Math.random();e[3*t]=a*Math.sin(r)*Math.cos(s),e[3*t+1]=a*Math.sin(r)*Math.sin(s),e[3*t+2]=a*Math.cos(r)}return e},[r,n]);return s(e=>{if(!o.current)return;const t=e.clock.getElapsedTime();i?(o.current.rotation.y+=.003,o.current.rotation.x=.15*Math.sin(.3*t),o.current.rotation.z+=.001):(o.current.rotation.y+=.001,o.current.rotation.x=.08*Math.sin(.2*t))}),t.jsxs("points",{ref:o,children:[t.jsx("bufferGeometry",{children:t.jsx("bufferAttribute",{attach:"attributes-position",count:l.length/3,array:l,itemSize:3})}),t.jsx("pointsMaterial",{size:.015,color:a,transparent:!0,opacity:.6,blending:k,depthWrite:!1})]})}function B({color:r,radius:a=.8}){const n=e.useRef(),i=e.useRef(null),o=e.useRef(!1),l=e.useMemo(()=>{const e=[];for(let t=0;t<25;t++){const s=t/25*Math.PI*2,r=a+.1*Math.random();e.push(new N(Math.cos(s)*r,.2*(Math.random()-.5),Math.sin(s)*r))}return e.push(e[0].clone()),e},[a]);return e.useEffect(()=>()=>{i.current&&clearTimeout(i.current)},[]),s(()=>{if(n.current&&Math.random()>.93){const e=[];for(let t=0;t<25;t++){const s=t/25*Math.PI*2,r=a+.1*Math.random();e.push(new N(Math.cos(s)*r,.2*(Math.random()-.5),Math.sin(s)*r))}e.push(e[0].clone()),n.current.geometry.setFromPoints(e),n.current.visible=!0,o.current=!0,i.current&&clearTimeout(i.current),i.current=setTimeout(()=>{n.current&&(n.current.visible=!1,o.current=!1),i.current=null},80)}}),t.jsxs("line",{ref:n,visible:!1,children:[t.jsx("bufferGeometry",{children:t.jsx("bufferAttribute",{attach:"attributes-position",count:l.length,array:new Float32Array(l.flatMap(e=>[e.x,e.y,e.z])),itemSize:3})}),t.jsx("lineBasicMaterial",{color:r,linewidth:3})]})}function F({planetData:r,isActive:a,progress:n,showCelebration:i}){const o=e.useRef(),l=e.useRef(),c=e.useRef(),d=e.useRef(),u=e.useRef(),m=e.useRef(),h=e.useRef(),p=e.useRef(!1),x=e.useRef(0),f=e.useRef(!1),g=r?.size||1,b=r?.color||"#8b5cf6",y=r?.secondaryColor||b,w=r?.particleCount||0,j=r?.hasLightning,v=r?.hasRing,N=r?.hasAccretionDisk,C=r?.hasAtmosphere,I=r?.hasCore||["rare","epic","legendary"].includes(r?.tier);return s(e=>{if(!l.current||!o.current)return;const t=e.clock.getElapsedTime(),s=p.current&&!a&&0===n;p.current,f.current;const b=p.current&&!a&&n>0&&n<1;if(p.current=a,f.current=!a&&n>0&&n<1,s||0===n&&!a){if(o.current.position.set(3,0,0),l.current.rotation.y+=.002,c.current){const e=1+.05*Math.sin(.8*t);c.current.scale.setScalar(e)}}else if(b){const e=x.current*Math.PI*2,s=3*Math.cos(e),r=3*Math.sin(e);if(o.current.position.set(s,0,r),l.current.rotation.y+=.001,c.current){const e=1+.03*Math.sin(.5*t);c.current.scale.setScalar(e)}}else if(f.current){if(l.current.rotation.y+=.001,c.current){const e=1+.03*Math.sin(.5*t);c.current.scale.setScalar(e)}}else if(a){const e=n*Math.PI*2,s=3*Math.cos(e),r=3*Math.sin(e);if(o.current.position.set(s,0,r),l.current.rotation.y+=.01,c.current){const e=1+.12*Math.sin(1.5*t);c.current.scale.setScalar(e)}d.current&&(d.current.rotation.z+=.005),h.current&&(h.current.rotation.z+=.015)}if(r?.special&&(a||i))switch(r.special){case"rainbow":{const e=30*t%360;l.current.material.color.setHSL(e/360,.8,.6),l.current.material.emissive.setHSL(e/360,.8,.4);break}case"pulse":{const e=.25*g+.08*Math.sin(2.5*t);l.current.scale.setScalar(e);break}case"quantum":l.current.material.opacity=.7+.3*Math.sin(3*t);break;case"galaxy":m.current&&(m.current.material.emissiveIntensity=.8+.7*Math.sin(1.2*t))}u.current&&(u.current.position.copy(o.current.position),a&&(u.current.rotation.y-=.003)),x.current=n}),t.jsxs("group",{ref:o,children:[t.jsxs("mesh",{ref:c,children:[t.jsx("sphereGeometry",{args:[.35*g,32,32]}),t.jsx("meshBasicMaterial",{color:b,transparent:!0,opacity:.2,blending:k,depthWrite:!1})]}),C&&t.jsxs("mesh",{ref:u,children:[t.jsx("sphereGeometry",{args:[.28*g,32,32]}),t.jsx("meshBasicMaterial",{color:y,transparent:!0,opacity:.15,side:M})]}),I&&t.jsxs("mesh",{ref:m,children:[t.jsx("sphereGeometry",{args:[.12*g,24,24]}),t.jsx("meshStandardMaterial",{color:y,emissive:y,emissiveIntensity:.8,roughness:.2,metalness:.8})]}),w>0&&t.jsx(q,{count:w,color:y,radius:.8*g,isActive:a,rotationSpeed:r?.particleRotationSpeed||1}),j&&t.jsxs(t.Fragment,{children:[t.jsx(B,{color:b,radius:.6*g,flashRate:a?.93:.97}),t.jsx(B,{color:y,radius:.8*g,flashRate:a?.93:.97})]}),t.jsxs("mesh",{ref:l,children:[t.jsx("sphereGeometry",{args:[.25*g,64,64]}),t.jsx("meshStandardMaterial",{color:b,emissive:b,emissiveIntensity:.3,roughness:.4,metalness:.3})]}),v&&t.jsxs("mesh",{ref:d,rotation:[Math.PI/2.5,0,0],children:[t.jsx("ringGeometry",{args:[.35*g,.45*g,64]}),t.jsx("meshBasicMaterial",{color:r.ringColor||b,transparent:!0,opacity:.3,side:S,blending:k})]}),N&&t.jsxs("mesh",{ref:h,rotation:[Math.PI/2,0,0],children:[t.jsx("ringGeometry",{args:[.4*g,.65*g,64]}),t.jsx("meshBasicMaterial",{color:r.diskColor||"#7c3aed",transparent:!0,opacity:.5,side:S,blending:k})]}),t.jsx("pointLight",{position:[0,0,0],intensity:.5,distance:5,color:b})]})}function O({sunData:r}){const a=e.useRef(),n=e.useRef(),i=e.useRef(),o=e.useRef(),l=e.useRef(),c=r?.color||"#ffd700",d=.27*(r?.size||3),u=r?.glowColor||c,m=r?.emissiveIntensity||2;return s(e=>{const t=e.clock.getElapsedTime();if(a.current&&(a.current.rotation.y+=.002),n.current){const e=.1*Math.sin(.5*t)+1;n.current.scale.setScalar(e)}if(i.current){const e=1+.08*Math.sin(1.5*t);i.current.scale.setScalar(e),i.current.material.opacity=.15+.05*Math.sin(2*t)}switch(r?.special){case"pulsar":const e=1+.15*Math.sin(5*t);a.current.scale.setScalar(e);break;case"binary":l.current&&(l.current.position.x=Math.cos(.1*t)*(2*d),l.current.position.z=Math.sin(.1*t)*(2*d),l.current.scale.set(1,1,1));break;case"rainbow":const s=30*t%360,r=(new C).setHSL(s/360,.8,.6);a.current.material.color.copy(r),a.current.material.emissive.copy(r)}o.current&&(o.current.rotation.z+=.01)}),t.jsxs("group",{children:[t.jsxs("mesh",{ref:i,children:[t.jsx("sphereGeometry",{args:[1.8*d,32,32]}),t.jsx("meshBasicMaterial",{color:u,transparent:!0,opacity:.15,blending:k,depthWrite:!1})]}),t.jsxs("mesh",{ref:n,children:[t.jsx("sphereGeometry",{args:[1.4*d,32,32]}),t.jsx("meshBasicMaterial",{color:u,transparent:!0,opacity:.2})]}),t.jsxs("mesh",{ref:a,children:[t.jsx("sphereGeometry",{args:[d,32,32]}),t.jsx("meshStandardMaterial",{color:c,emissive:c,emissiveIntensity:m,roughness:.5,metalness:.1})]}),"binary"===r?.special&&t.jsxs("mesh",{ref:l,children:[t.jsx("sphereGeometry",{args:[.6*d,32,32]}),t.jsx("meshStandardMaterial",{color:r.secondaryColor||"#ef4444",emissive:r.secondaryColor||"#ef4444",emissiveIntensity:2,roughness:.5}),t.jsx("pointLight",{intensity:1.5,distance:10,color:r.secondaryColor||"#ef4444"})]}),r?.hasAccretionDisk&&t.jsxs("mesh",{ref:o,rotation:[Math.PI/2.5,0,0],children:[t.jsx("ringGeometry",{args:[1.5*d,2.2*d,64]}),t.jsx("meshBasicMaterial",{color:r.diskColor||u,transparent:!0,opacity:.5,side:S,blending:k})]}),r?.particleCount&&t.jsx(q,{count:r.particleCount,color:u,radius:2*d}),r?.hasLightning&&t.jsxs(t.Fragment,{children:[t.jsx(B,{color:c,position:[0,0,0]}),t.jsx(B,{color:u,position:[0,0,0]})]}),t.jsx("pointLight",{intensity:1.2*m,distance:15,color:c})]})}function W(){const s=e.useRef();return e.useEffect(()=>{const e=[];for(let t=0;t<=64;t++){const s=t/64*Math.PI*2;e.push(new N(3*Math.cos(s),0,3*Math.sin(s)))}s.current&&s.current.geometry.setFromPoints(e)},[]),t.jsxs("line",{ref:s,children:[t.jsx("bufferGeometry",{}),t.jsx("lineBasicMaterial",{color:"#8b5cf6",opacity:.3,transparent:!0,linewidth:2})]})}function _({progress:r,isActive:a,showCelebration:n}){const i=e.useRef(),o=e.useRef(),l=e.useRef(),c=e.useRef(),d=(a||!a&&r>0&&r<1)&&!n;return s(e=>{const t=e.clock.getElapsedTime();if(o.current&&d){const e=.3*Math.sin(2*t)+1;o.current.scale.setScalar(e)}if(l.current&&d){const e=3,t=r*Math.PI*2,s=Math.cos(t)*e,a=Math.sin(t)*e;l.current.position.set(s,.05,a),c.current&&c.current.position.set(s,.05,a)}if(l.current){const e=l.current.material;e&&(e.color.setStyle(a?"#a78bfa":"#7c3aed"),e.opacity=a?1:.6)}if(c.current){const e=c.current.material;e&&(e.opacity=a?.3:.15)}[i.current,o.current,l.current,c.current].forEach(e=>{e&&(e.visible=d)})}),d?t.jsxs("group",{children:[t.jsxs("mesh",{ref:i,position:[3,.05,0],children:[t.jsx("sphereGeometry",{args:[.06,16,16]}),t.jsx("meshBasicMaterial",{color:"#ffffff"})]}),t.jsxs("mesh",{ref:o,position:[3,.05,0],rotation:[Math.PI/2,0,0],children:[t.jsx("ringGeometry",{args:[.18,.28,32]}),t.jsx("meshBasicMaterial",{color:"#ffffff",transparent:!0,opacity:.35,side:S})]}),t.jsxs("mesh",{ref:l,children:[t.jsx("sphereGeometry",{args:[.08,16,16]}),t.jsx("meshBasicMaterial",{color:"#a78bfa",transparent:!0})]}),t.jsxs("mesh",{ref:c,children:[t.jsx("sphereGeometry",{args:[.12,16,16]}),t.jsx("meshBasicMaterial",{color:"#a78bfa",transparent:!0,opacity:.3})]})]}):null}function $({planetData:s,isActive:o,progress:l,showCelebration:c}){const[d,u]=e.useState({position:[0,5,8],fov:50}),[m,h]=e.useState(null);return e.useEffect(()=>{const e=async()=>{const e=z.get("equipped-sun");if(e){const{sunItems:t}=await i(async()=>{const{sunItems:e}=await Promise.resolve().then(()=>te);return{sunItems:e}},void 0),s=t.find(t=>t.id===e);h(s)}else h({color:"#ffd700",size:3,emissiveIntensity:1.5})};e();const t=t=>{"equipped-sun"===t.key&&e()};window.addEventListener("storage",t);const s=()=>e();return window.addEventListener("sun-equipped",s),()=>{window.removeEventListener("storage",t),window.removeEventListener("sun-equipped",s)}},[]),e.useEffect(()=>{const e=()=>{const e=5+(window.innerWidth/window.innerHeight<1?3:0);u({position:[0,e,1.6*e],fov:50})};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),t.jsx("div",{className:"w-full h-full",children:t.jsxs(r,{camera:d,children:[t.jsx("color",{attach:"background",args:["#020617"]}),t.jsx("fog",{attach:"fog",args:["#020617",10,20]}),t.jsx("ambientLight",{intensity:.4}),t.jsx(a,{radius:100,depth:50,count:5e3,factor:4,fade:!0,speed:1}),t.jsx(O,{sunData:m||{color:"#ffd700",size:3,emissiveIntensity:1.5}}),t.jsx(W,{}),t.jsx(_,{progress:l,isActive:o,showCelebration:c}),t.jsx(F,{planetData:s,isActive:o,progress:l,showCelebration:c}),t.jsx(n,{enableZoom:!1,enablePan:!1,minPolarAngle:Math.PI/4,maxPolarAngle:Math.PI/1.5})]})})}function H(){const{stardust:s,showStardustGain:r,recentGain:a}=T(),[n,i]=e.useState(!1);return t.jsxs("div",{className:"relative inline-block",children:[t.jsxs("div",{className:"bg-black/20 backdrop-blur-md rounded-full px-4 sm:px-5 py-2 sm:py-2.5 border border-white/10 flex items-center gap-2 pointer-events-auto cursor-pointer",onClick:()=>i(e=>!e),onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),children:[t.jsx(o,{size:18,className:"text-yellow-400 sm:w-5 sm:h-5"}),t.jsx("span",{className:"text-lg sm:text-xl font-light text-yellow-400 tracking-wide",children:s.toLocaleString()})]}),n&&t.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 top-full mt-2 z-20",children:t.jsx("div",{className:"bg-black/80 text-white text-xs px-2 py-2 rounded-xl min-w-[100px] max-w-[220px] text-center whitespace-normal",children:"Earn Stardust by focusing!"})}),r&&t.jsx("div",{className:"absolute top-16 sm:top-20 left-0 pointer-events-none animate-float-up-fade z-10",children:t.jsx("div",{className:"bg-gradient-to-r from-yellow-400/90 to-orange-500/90 backdrop-blur-xl rounded-full px-4 sm:px-6 py-2 sm:py-3 border-2 border-yellow-300/50 shadow-2xl",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-xl sm:text-2xl animate-spin-slow",children:"✨"}),t.jsxs("span",{className:"text-lg sm:text-xl font-bold text-white",children:["+",a]}),t.jsx("span",{className:"text-xs sm:text-sm font-light text-white/90",children:"Stardust"})]})})})]})}const J=({isOpen:e,onClose:s})=>{const{todayTotal:r,categoryData:a,weekData:n,getLongestSession:i}=L(),o=e=>{const t=Math.floor(e/3600),s=Math.floor(e%3600/60);return t>0?`${t}h ${s}m`:s>0?`${s}m`:`${Math.floor(e)}s`},u=e=>({Work:"#3b82f6",Study:"#8b5cf6",Creative:"#ec4899",Exercise:"#10b981",Reading:"#f59e0b",Personal:"#6366f1"}[e]||"#64748b"),m=Math.max(...n.map(e=>e.minutes),1),h=i();return e?t.jsxs("div",{className:"fixed top-20 right-6 w-80 bg-slate-800/95 backdrop-blur-xl rounded-2xl border border-white/20 p-6 z-50 shadow-2xl animate-in fade-in slide-in-from-top-2 duration-300",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsx("h3",{className:"text-white font-semibold text-lg",children:"Focus Stats"}),t.jsx("button",{onClick:s,className:"text-white/60 hover:text-white transition-colors",children:t.jsx(l,{className:"w-5 h-5"})})]}),t.jsxs("div",{className:"mb-3 flex items-center justify-between px-1",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(c,{className:"w-4 h-4 text-white/50"}),t.jsx("p",{className:"text-white/50 text-xs uppercase tracking-wide",children:"Total Today"})]}),r>0?t.jsx("p",{className:"text-white text-sm font-medium",children:o(r)}):t.jsx("p",{className:"text-white/40 text-sm",children:"–"})]}),a.length>0&&t.jsxs("div",{className:"mb-6",children:[t.jsx("p",{className:"text-white/60 text-xs uppercase tracking-wide mb-3",children:"By Category"}),t.jsx("div",{className:"space-y-2",children:a.map(e=>t.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-white/5 hover:bg-white/10 transition-colors",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:u(e.name)}}),t.jsx("span",{className:"text-white/80 text-sm",children:e.name})]}),t.jsx("span",{className:"text-white/60 text-sm font-medium",children:o(e.time)})]},e.name))})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("p",{className:"text-white/60 text-xs uppercase tracking-wide mb-6",children:"This Week"}),t.jsx("div",{className:"h-24 flex items-end justify-between gap-1 mt-2",children:n.map((e,s)=>{const r=m>0?Math.max(e.minutes/m*96,0):0,a=(e=>{const t=localStorage.getItem("focusSessions");if(!t)return null;try{const s=JSON.parse(t),r=new Date(e);r.setHours(0,0,0,0);const a=s.filter(e=>{const t=new Date(e.date);return t.setHours(0,0,0,0),t.getTime()===r.getTime()});if(0===a.length)return null;const n={};return a.forEach(e=>{const t=e.category||"Uncategorized";n[t]||(n[t]=0),n[t]+=e.duration}),n}catch(s){return null}})(e.date);return t.jsxs("div",{className:"flex-1 flex flex-col items-center gap-1 group relative",children:[t.jsx("div",{className:"w-full flex items-end",style:{height:"96px"},children:t.jsx("div",{className:"w-full bg-gradient-to-t from-purple-500 to-blue-500 rounded-t-sm transition-all duration-300 group-hover:opacity-80 relative",style:{height:e.minutes>0?`${r}px`:"2px",minHeight:e.minutes>0?"8px":"2px"},children:e.minutes>0&&t.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-2 bg-black/95 backdrop-blur-sm rounded-lg opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap z-50 min-w-max",children:[t.jsxs("div",{className:"text-xs text-white font-medium mb-1",children:["Today"===e.day?"Today":e.day," - ",e.minutes,"m"]}),a&&Object.keys(a).length>0&&t.jsx("div",{className:"space-y-0.5 mt-1.5 pt-1.5 border-t border-white/20",children:Object.entries(a).map(([e,s])=>t.jsxs("div",{className:"flex items-center gap-1.5 text-xs",children:[t.jsx("div",{className:"w-2 h-2 rounded-full flex-shrink-0",style:{backgroundColor:u(e)}}),t.jsxs("span",{className:"text-white/70",children:[e,":"]}),t.jsx("span",{className:"text-white/90",children:o(s)})]},e))})]})})}),t.jsx("span",{className:"text-xs transition-colors "+("Today"===e.day?"text-white/70 font-medium":"text-white/40"),children:e.day})]},s)})})]}),h>0&&t.jsxs("div",{className:"p-3 bg-purple-500/20 rounded-lg border border-purple-500/30 flex items-center gap-2",children:[t.jsx(d,{className:"w-4 h-4 text-yellow-300"}),t.jsxs("p",{className:"text-purple-200 text-xs",children:["Longest session this week:"," ",t.jsx("span",{className:"font-semibold",children:o(h)})]})]})]}):null},V=({showStatsPanel:e,setShowStatsPanel:s,isSessionActive:r})=>{const{todayTotal:a,isInitialized:n}=L();return n?r&&0===a?null:0===a?t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:()=>s(!e),className:"fixed top-6 right-6 z-40 px-4 py-2 bg-white/5 backdrop-blur-md rounded-full border border-white/10 hover:bg-white/10 transition-all duration-300 group",children:t.jsxs("div",{className:"flex items-center gap-2 text-white/60",children:[t.jsx(u,{className:"w-5 h-5"}),t.jsx("span",{className:"text-sm font-light tracking-wide",children:"Start focusing today"})]})}),t.jsx(J,{isOpen:e,onClose:()=>s(!1)})]}):t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:()=>s(!e),className:"fixed top-6 right-6 z-40 px-4 py-2 bg-white/10 backdrop-blur-md rounded-full border border-white/20 hover:bg-white/20 transition-all duration-300 group",children:t.jsxs("div",{className:"flex items-center gap-2 text-white/90",children:[t.jsx(c,{className:"w-5 h-5 text-white"}),t.jsxs("span",{className:"text-sm font-medium",children:[(e=>{const t=Math.floor(e/3600),s=Math.floor(e%3600/60);return t>0?`${t}h ${s}m`:s>0?`${s}m`:`${Math.floor(e)}s`})(a)," today"]})]})}),t.jsx(J,{isOpen:e,onClose:()=>s(!1)})]}):null},U=({isVisible:e})=>{const{currentCategory:s,setCategory:r}=L();return e?t.jsx("div",{className:"absolute -top-20 left-1/2 -translate-x-1/2 flex gap-2 animate-in fade-in slide-in-from-top-4 duration-500 z-30",children:[{name:"Work",color:"#3b82f6"},{name:"Study",color:"#8b5cf6"},{name:"Creative",color:"#ec4899"},{name:"Exercise",color:"#10b981"},{name:"Reading",color:"#f59e0b"}].map(e=>t.jsx("button",{onClick:()=>r(s===e.name?null:e.name),className:"px-3 py-1.5 rounded-full text-xs font-medium transition-all duration-300 "+(s===e.name?"shadow-lg scale-105":"bg-white/10 text-white/70 hover:bg-white/20"),style:s===e.name?{backgroundColor:e.color,color:"white"}:{},children:e.name},e.name))}):null},Y=[{id:"planet-starter",name:"Cosmic Voyager",description:"A quiet world adrift among the stars",cost:0,tier:"starter",color:"#8b5cf6",emissiveIntensity:.3,size:1,unlocked:!0,special:"basic",type:"planet"},{id:"planet-red",name:"Crimson Wanderer",description:"Ancient deserts stretch endlessly beneath towering red storms that never cease",cost:80,tier:"common",color:"#dc2626",secondaryColor:"#991b1b",emissiveIntensity:.4,size:1.1,special:"dusty",type:"planet"},{id:"planet-ice",name:"Frozen Heart",description:"Crystalline seas locked in eternal winter, reflecting the cold light of distant stars",cost:120,tier:"common",color:"#60a5fa",secondaryColor:"#3b82f6",emissiveIntensity:.5,size:1.15,special:"icy",hasRing:!0,ringColor:"#bfdbfe",type:"planet"},{id:"planet-pink",name:"Rose Nebula",description:"Delicate pink clouds drift across a tranquil surface, soft as a cosmic dream",cost:100,tier:"common",color:"#ec4899",secondaryColor:"#f472b6",emissiveIntensity:.55,size:1.2,special:"shimmer",type:"planet"},{id:"planet-gold",name:"Solar Forge",description:"Rivers of molten gold flow across its surface, powered by a volcanic heart",cost:200,tier:"rare",color:"#facc15",secondaryColor:"#fbbf24",emissiveIntensity:1,size:1.3,special:"lava",hasRing:!0,ringColor:"#fcd34d",type:"planet"},{id:"planet-toxic",name:"Toxic Miasma",description:"Poisonous emerald clouds swirl violently, smothering the surface",cost:280,tier:"rare",color:"#22c55e",secondaryColor:"#16a34a",emissiveIntensity:.9,size:1.25,special:"toxic",particleCount:30,type:"planet"},{id:"planet-crystal",name:"Diamond Sphere",description:"A world of pure crystal that refracts starlight into a million rainbow fractals",cost:350,tier:"rare",color:"#67e8f9",secondaryColor:"#22d3ee",emissiveIntensity:1.1,size:1.35,special:"crystal",hasRing:!0,ringColor:"#a5f3fc",type:"planet"},{id:"planet-rainbow",name:"Prismatic Nexus",description:"Reality bends as impossible colors cascade across its surface in hypnotic waves",cost:500,tier:"epic",color:"#a855f7",emissiveIntensity:1.2,size:1.5,special:"rainbow",particleCount:50,type:"planet"},{id:"planet-obsidian",name:"Void Singularity",description:"A sphere of absolute darkness where light itself is devoured by crushing gravity",cost:600,tier:"epic",color:"#18181b",secondaryColor:"#3f3f46",emissiveIntensity:.3,size:1.6,special:"black-hole",hasAccretionDisk:!0,diskColor:"#7c3aed",type:"planet"},{id:"planet-electric",name:"Storm Conductor",description:"Eternal lightning storms crackle and dance across turbulent violet skies",cost:750,tier:"epic",color:"#8b5cf6",secondaryColor:"#a78bfa",emissiveIntensity:1.4,size:1.55,special:"electric",hasLightning:!0,type:"planet"},{id:"planet-lava",name:"Inferno Core",description:"Cracks in the obsidian crust reveal an ocean of molten fire churning below",cost:700,tier:"epic",color:"#f97316",secondaryColor:"#ea580c",emissiveIntensity:1.5,size:1.5,special:"volcanic",particleCount:40,type:"planet"},{id:"planet-galaxy",name:"Cosmos Incarnate",description:"A miniature galaxy spirals within this impossible world",cost:1e3,tier:"legendary",color:"#6366f1",secondaryColor:"#818cf8",emissiveIntensity:1.8,size:1.7,special:"galaxy",hasCore:!0,hasRing:!0,ringColor:"#a5b4fc",particleCount:100,type:"planet"},{id:"planet-supernova",name:"Phoenix Star",description:"A dying star frozen in its final moment of glory, forever exploding, forever reborn",cost:1500,tier:"legendary",color:"#fbbf24",secondaryColor:"#f59e0b",emissiveIntensity:2.5,size:.75,special:"supernova",particleCount:150,hasLightning:!0,type:"planet"},{id:"planet-quantum",name:"Quantum Anomaly",description:"It exists and doesn't exist simultaneously, a world trapped between all possible states",cost:2e3,tier:"legendary",color:"#06b6d4",secondaryColor:"#0891b2",emissiveIntensity:2,size:1.75,special:"quantum",hasParticles:!0,particleCount:80,type:"planet"},{id:"planet-aurora",name:"Aurora Majesty",description:"Celestial lights weave endlessly across the sky in a breathtaking cosmic ballet",cost:1800,tier:"legendary",color:"#10b981",secondaryColor:"#059669",emissiveIntensity:1.6,size:1.65,special:"aurora",particleCount:120,hasRing:!0,ringColor:"#34d399",type:"planet"}],K=[{id:"sun-default",name:"Standard Star",description:"A reliable yellow dwarf, steady and warm—the cosmic hearth around which worlds turn",cost:0,tier:"starter",color:"#fbbf24",emissiveIntensity:2,size:3,unlocked:!0,special:"basic",type:"sun",glowColor:"#fcd34d"},{id:"sun-red-giant",name:"Red Giant",description:"A bloated crimson titan in its twilight years, burning fierce before the final fade",cost:400,tier:"rare",color:"#dc2626",emissiveIntensity:2.5,size:4,special:"pulsating",type:"sun",glowColor:"#f87171"},{id:"sun-blue-star",name:"Azure Supergiant",description:"Blazing blue-white plasma rages with the fury of a hundred thousand suns",cost:450,tier:"rare",color:"#3b82f6",emissiveIntensity:3,size:3.5,special:"intense",type:"sun",glowColor:"#60a5fa"},{id:"sun-binary",name:"Binary System",description:"Twin stars bound by gravity, locked in an eternal cosmic waltz through the void",cost:800,tier:"epic",color:"#f59e0b",secondaryColor:"#ef4444",emissiveIntensity:2.2,size:1,special:"binary",type:"sun",glowColor:"#fbbf24"},{id:"sun-neutron",name:"Neutron Pulsar",description:"A collapsed stellar core sending rhythmic beams across the cosmos",cost:1200,tier:"legendary",color:"#06b6d4",emissiveIntensity:4,size:2,special:"pulsar",type:"sun",glowColor:"#22d3ee",hasLightning:!0},{id:"sun-black-hole",name:"Event Horizon",description:"The ultimate end, a singularity where space and time collapse into infinite darkness",cost:2500,tier:"legendary",color:"#000000",emissiveIntensity:.1,size:2.5,special:"black-hole",type:"sun",glowColor:"#7c3aed",hasAccretionDisk:!0,diskColor:"#a855f7"},{id:"sun-rainbow",name:"Prismatic Core",description:"An impossible fusion of every wavelength, a star that burns eternal",cost:2e3,tier:"legendary",color:"#ec4899",emissiveIntensity:3.5,size:3.5,special:"rainbow",type:"sun",glowColor:"#f472b6",particleCount:100}],Q={planets:Y,suns:K},Z={starter:"text-gray-400",common:"text-blue-400",rare:"text-purple-400",epic:"text-pink-400",legendary:"text-orange-400"},X={starter:"border-gray-500/30",common:"border-blue-500/30",rare:"border-purple-500/30",epic:"border-pink-500/30",legendary:"border-orange-500/30"},ee={starter:"shadow-gray-500/20",common:"shadow-blue-500/30",rare:"shadow-purple-500/40",epic:"shadow-pink-500/50",legendary:"shadow-orange-500/60"},te=Object.freeze(Object.defineProperty({__proto__:null,allShopItems:Q,planetItems:Y,sunItems:K,tierBorders:X,tierColors:Z,tierGlows:ee},Symbol.toStringTag,{value:"Module"}));function se({item:r}){const a=e.useRef(),n=e.useRef(),i=e.useRef(),o=e.useRef(),l=e.useRef(),c=e.useRef(),d=e.useRef(),u=e.useRef();return s(e=>{const t=e.clock.getElapsedTime();if(!a.current)return;const s=a.current;if(s.rotation.y+=.006,s.rotation.x=.15*Math.sin(.3*t),i.current){const e=1+.08*Math.sin(1.5*t);i.current.scale.setScalar(e),i.current.material.opacity=.15+.05*Math.sin(2*t)}switch(n.current&&(n.current.rotation.z+=.004),c.current&&(c.current.rotation.z+=.015),l.current&&(l.current.rotation.y-=.002,l.current.material.opacity=.1+.05*Math.sin(2*t)),r.special){case"rainbow":{const e=30*t%360,s=(new C).setHSL(e/360,.8,.6);o.current?.material?.color.copy(s),o.current?.material?.emissive.copy(s);break}case"pulse":case"supernova":{const e=.5+.04*Math.sin(2.5*t);s.scale.setScalar(e);break}case"electric":{const e=.004;s.position.x=Math.sin(10*t)*e,s.position.y=Math.cos(13*t)*e;break}case"quantum":{const e=.7+.3*Math.sin(3*t);o.current.material.opacity=e;break}}}),t.jsxs("group",{ref:a,children:[t.jsxs("mesh",{ref:i,children:[t.jsx("sphereGeometry",{args:[.4,32,32]}),t.jsx("meshBasicMaterial",{color:r.color,transparent:!0,opacity:.15,blending:k,depthWrite:!1})]}),t.jsxs("mesh",{ref:o,children:[t.jsx("sphereGeometry",{args:[.25,64,64]}),t.jsx("meshStandardMaterial",{color:r.color,emissive:r.color,emissiveIntensity:r.emissiveIntensity||.6,roughness:"iridescent"===r.special?.1:.4,metalness:"iridescent"===r.special?.9:.3,transparent:"quantum"===r.special,opacity:"quantum"===r.special?.85:1})]}),r.hasAtmosphere&&t.jsxs("mesh",{ref:l,children:[t.jsx("sphereGeometry",{args:[.3,32,32]}),t.jsx("meshBasicMaterial",{color:r.secondaryColor||r.color,transparent:!0,opacity:.12,side:M})]}),r.hasRing&&t.jsxs("mesh",{ref:n,rotation:[Math.PI/2.5,0,0],children:[t.jsx("ringGeometry",{args:[.32,.42,64]}),t.jsx("meshBasicMaterial",{color:r.ringColor||r.color,transparent:!0,opacity:.25,side:S,blending:k})]}),r.hasAccretionDisk&&t.jsxs("mesh",{ref:c,rotation:[Math.PI/2,0,0],children:[t.jsx("ringGeometry",{args:[.35,.55,64]}),t.jsx("meshBasicMaterial",{color:r.diskColor||"#7c3aed",transparent:!0,opacity:.4,side:S,blending:k})]}),r.particleCount&&t.jsx("group",{ref:u,children:t.jsx(q,{count:r.particleCount,color:r.secondaryColor||r.color,radius:.45})}),r.hasLightning&&t.jsxs("group",{ref:d,children:[t.jsx(B,{color:r.color,position:[0,0,0]}),t.jsx(B,{color:r.secondaryColor||r.color,position:[0,0,0]})]}),t.jsx("pointLight",{position:[0,0,0],intensity:1.2*(r.emissiveIntensity||.5),distance:3,color:r.color})]})}function re({item:s}){return s?t.jsx("div",{className:"w-full h-full",children:t.jsxs(r,{camera:{position:[0,0,1.3],fov:45},children:[t.jsx("ambientLight",{intensity:.25}),t.jsx("directionalLight",{position:[2,3,5],intensity:.6}),t.jsx(e.Suspense,{fallback:null,children:t.jsx(se,{item:s})})]})}):null}function ae({item:r}){const a=e.useRef(),n=e.useRef(),i=e.useRef(),o=e.useRef(),l=e.useRef();return s(e=>{const t=e.clock.getElapsedTime();if(a.current){if(a.current.rotation.y+=.002,n.current){const e=1+.05*Math.sin(2*t);n.current.scale.setScalar(e)}if(i.current){const e=1+.1*Math.sin(1.5*t);i.current.scale.setScalar(e),i.current.material.opacity=.2+.05*Math.sin(2*t)}switch(r.special){case"pulsar":const e=1+.15*Math.sin(5*t);a.current.scale.setScalar(e);break;case"binary":l.current&&(l.current.position.x=.4*Math.cos(.5*t),l.current.position.z=.4*Math.sin(.5*t));break;case"rainbow":const s=30*t%360,r=(new C).setHSL(s/360,.8,.6);n.current?.material?.color.copy(r),n.current?.material?.emissive.copy(r)}o.current&&(o.current.rotation.z+=.01)}}),t.jsxs("group",{ref:a,children:[t.jsxs("mesh",{ref:i,children:[t.jsx("sphereGeometry",{args:[.5,32,32]}),t.jsx("meshBasicMaterial",{color:r.glowColor||r.color,transparent:!0,opacity:.2,blending:k,depthWrite:!1})]}),t.jsxs("mesh",{ref:n,children:[t.jsx("sphereGeometry",{args:[.3,64,64]}),t.jsx("meshStandardMaterial",{color:r.color,emissive:r.color,emissiveIntensity:r.emissiveIntensity||2,roughness:.2,metalness:.1})]}),"binary"===r.special&&t.jsxs("mesh",{ref:l,children:[t.jsx("sphereGeometry",{args:[.1,32,32]}),t.jsx("meshStandardMaterial",{color:r.secondaryColor||"#ef4444",emissive:r.secondaryColor||"#ef4444",emissiveIntensity:2,roughness:.2})]}),r.hasAccretionDisk&&t.jsxs("mesh",{ref:o,rotation:[Math.PI/2.5,0,0],children:[t.jsx("ringGeometry",{args:[.4,.6,64]}),t.jsx("meshBasicMaterial",{color:r.diskColor||r.glowColor,transparent:!0,opacity:.5,side:S,blending:k})]}),r.particleCount&&t.jsx(q,{count:r.particleCount,color:r.glowColor||r.color,radius:.6}),r.hasLightning&&t.jsxs(t.Fragment,{children:[t.jsx(B,{color:r.color,position:[0,0,0]}),t.jsx(B,{color:r.glowColor||r.color,position:[0,0,0]})]}),t.jsx("pointLight",{position:[0,0,0],intensity:.8*(r.emissiveIntensity||2),distance:3,color:r.color})]})}function ne({item:s}){return s?t.jsx("div",{className:"w-full h-full",children:t.jsxs(r,{camera:{position:[0,0,1.5],fov:45},children:[t.jsx("ambientLight",{intensity:.2}),t.jsx(e.Suspense,{fallback:null,children:t.jsx(ae,{item:s})})]})}):null}function ie({children:s,fallback:r}){const[a,n]=e.useState(!1),i=e.useRef();return e.useEffect(()=>{const e=new IntersectionObserver(([e])=>{e.isIntersecting&&n(!0)},{rootMargin:"100px"});return i.current&&e.observe(i.current),()=>e.disconnect()},[]),t.jsx("div",{ref:i,className:"w-full h-32 mb-3",children:a?s:r})}function oe({onClose:s,onEquipPlanet:r}){const{stardust:a,spendStardust:n}=T(),[i,c]=e.useState("planets"),[u,h]=e.useState({}),[p,x]=e.useState({planet:null,sun:null,starfield:null});e.useEffect(()=>{const e=z.get("owned-items");if(e)h(e);else{const e={"planet-starter":!0,"sun-default":!0};h(e),z.set("owned-items",e)}const t=z.get("equipped-planet"),s=z.get("equipped-sun")||"sun-default";x({planet:t,sun:s})},[]);const f=e=>{if(a>=e.cost&&!u[e.id]){n(e.cost);const t={...u,[e.id]:!0};if(h(t),z.set("owned-items",t),!function(e,t,s){return t+Object.keys(e).filter(t=>e[t]).reduce((e,t)=>{const r=[...s.planets,...s.suns].find(e=>e.id===t);return r?r.unlocked||0===r.cost?e:e+r.cost:e},0)<1e5}(t,a,Q))return void console.warn("Item validation failed")}},g=[{id:"planets",label:"Planets",icon:m,items:Q.planets},{id:"suns",label:"Suns",icon:d,items:Q.suns}],b=g.find(e=>e.id===i)?.items||[];return t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-md",children:t.jsxs("div",{className:"relative w-full max-w-4xl max-h-[85vh] bg-gradient-to-b from-slate-900 via-slate-800 to-slate-900 rounded-2xl border border-white/20 shadow-2xl overflow-hidden flex flex-col",children:[t.jsxs("div",{className:"bg-slate-900/95 backdrop-blur-xl border-b border-white/10 p-6 flex-shrink-0",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-white",children:"Cosmic Shop"}),t.jsx("p",{className:"text-white/60 text-sm mt-1",children:"Customize your universe"})]}),t.jsx("button",{onClick:s,className:"w-10 h-10 rounded-full bg-white/10 hover:bg-white/20 flex items-center justify-center transition-all",children:t.jsx(l,{className:"w-5 h-5 text-white"})})]}),t.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-purple-500/20 rounded-full border border-purple-500/30 w-fit",children:[t.jsx(o,{className:"w-4 h-4 text-purple-300"}),t.jsx("span",{className:"text-white font-medium",children:a.toLocaleString()}),t.jsx("span",{className:"text-white/60 text-sm",children:"Stardust"})]}),t.jsx("div",{className:"flex gap-2 mt-4",children:g.map(e=>{const s=e.icon;return t.jsxs("button",{onClick:()=>c(e.id),className:"flex-1 px-4 py-2 rounded-lg transition-all flex items-center justify-center gap-2 "+(i===e.id?"bg-white/15 text-white border border-white/20":"bg-white/5 text-white/60 hover:bg-white/10 border border-white/10"),children:[t.jsx(s,{className:"w-4 h-4"}),t.jsx("span",{className:"font-medium",children:e.label})]},e.id)})})]}),t.jsx("div",{className:"p-6 overflow-y-auto flex-1",children:t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:b.map(e=>{const s=u[e.id]||e.unlocked,n=p[e.type]===e.id,i=a>=e.cost;return t.jsxs("div",{className:`relative p-4 rounded-xl border-2 ${X[e.tier]} bg-slate-800/50 backdrop-blur-sm transition-all hover:scale-[1.02] shadow-lg ${ee[e.tier]}`,children:[t.jsx("div",{className:`absolute top-2 right-2 px-2 py-1 rounded-full bg-black/50 backdrop-blur-sm text-xs font-medium ${Z[e.tier]} border ${X[e.tier]}`,children:e.tier.toUpperCase()}),n&&t.jsx("div",{className:"absolute top-2 left-2 px-2 py-1 rounded-full bg-green-500/80 text-xs font-medium text-white",children:"EQUIPPED"}),"planet"===e.type&&t.jsx(ie,{fallback:t.jsx("div",{className:"w-full h-full bg-slate-950/50 rounded-lg flex items-center justify-center",children:t.jsx("div",{className:"w-16 h-16 rounded-full animate-pulse",style:{backgroundColor:e.color}})}),children:t.jsx("div",{className:"bg-slate-950/50 rounded-lg overflow-hidden h-full",children:t.jsx(re,{item:e})})}),"sun"===e.type&&t.jsx(ie,{fallback:t.jsx("div",{className:"w-full h-full bg-slate-950/50 rounded-lg flex items-center justify-center",children:t.jsx("div",{className:"w-20 h-20 rounded-full animate-pulse",style:{backgroundColor:e.color,boxShadow:`0 0 40px ${e.glowColor||e.color}`}})}),children:t.jsx("div",{className:"bg-slate-950/50 rounded-lg overflow-hidden h-full",children:t.jsx(ne,{item:e})})}),t.jsx("h3",{className:"text-white font-semibold mb-1 text-sm",children:e.name}),t.jsx("p",{className:"text-white/60 text-xs mb-3 line-clamp-2 min-h-[2rem]",children:e.description}),s?t.jsx("button",{onClick:()=>(e=>{if(u[e.id]||e.unlocked){const t=e.type;x(s=>({...s,[t]:e.id})),z.set(`equipped-${t}`,e.id),"planet"===e.type&&r&&r(e),"sun"===e.type&&window.dispatchEvent(new Event("sun-equipped"))}})(e),disabled:n,className:"w-full py-2 rounded-lg font-medium transition-all text-sm "+(n?"bg-green-500/20 text-green-300 cursor-default border border-green-500/30":"bg-white/10 hover:bg-white/20 text-white border border-white/20"),children:n?"Equipped":"Equip"}):t.jsxs("button",{onClick:()=>f(e),disabled:!i,className:"w-full py-2 rounded-lg font-medium transition-all flex items-center justify-center gap-2 text-sm "+(i?"bg-purple-500/80 hover:bg-purple-500 text-white border border-purple-500/50":"bg-white/5 text-white/30 cursor-not-allowed border border-white/10"),children:[t.jsx(o,{className:"w-4 h-4"}),t.jsx("span",{children:e.cost.toLocaleString()})]})]},e.id)})})})]})})}function le(){const[s,r]=e.useState(!1),[a,n]=e.useState(!1),i=e.useMemo(()=>[...Array(12)].map(()=>({top:100*Math.random()+"%",left:100*Math.random()+"%",delay:3*Math.random()+"s"})),[]);e.useEffect(()=>{localStorage.getItem("astral-focus-welcome-seen")||r(!0)},[]);return s?t.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/80 backdrop-blur-xl animate-fadeIn",children:[t.jsxs("div",{className:"relative bg-gradient-to-br from-slate-900/95 via-purple-900/50 to-slate-900/95 backdrop-blur-3xl rounded-3xl p-8 max-w-2xl w-full mx-4 border border-purple-500/40 shadow-2xl animate-scaleIn",style:{boxShadow:"0 25px 50px -12px rgba(139, 92, 246, 0.3), inset 0 1px 1px 0 rgba(255, 255, 255, 0.1)"},children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/20 via-blue-500/10 to-pink-500/20 rounded-3xl blur-2xl -z-10 animate-pulse",style:{animationDuration:"4s"}}),t.jsx("div",{className:"absolute inset-0 overflow-hidden rounded-3xl pointer-events-none",children:i.map((e,s)=>t.jsx("div",{className:"absolute w-1 h-1 bg-white/60 rounded-full animate-twinkle",style:{top:e.top,left:e.left,animationDelay:e.delay}},s))}),t.jsxs("div",{className:"relative z-10",children:[t.jsx("div",{className:"flex items-center justify-center mb-6",children:t.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center shadow-lg shadow-purple-500/50",children:t.jsx(o,{className:"w-8 h-8 text-white"})})}),t.jsx("h2",{className:"text-3xl font-light text-center text-transparent bg-clip-text bg-gradient-to-r from-purple-200 via-white to-blue-200 mb-3",children:"Welcome to Astral Focus"}),t.jsx("p",{className:"text-purple-300/70 text-center text-sm mb-8",children:"Turn your focus time into a cosmic adventure"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[t.jsxs("div",{className:"bg-white/5 rounded-2xl p-4 border border-white/10 backdrop-blur-sm",children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-purple-500/20 flex items-center justify-center mb-3",children:t.jsx(c,{className:"w-5 h-5 text-purple-300"})}),t.jsx("h3",{className:"text-white font-medium text-sm mb-2",children:"Set Your Timer"}),t.jsx("p",{className:"text-white/60 text-xs leading-relaxed",children:"Choose your focus duration and watch your planet begin its orbit"})]}),t.jsxs("div",{className:"bg-white/5 rounded-2xl p-4 border border-white/10 backdrop-blur-sm",children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-500/20 flex items-center justify-center mb-3",children:t.jsx(h,{className:"w-5 h-5 text-blue-300"})}),t.jsx("h3",{className:"text-white font-medium text-sm mb-2",children:"Earn Stardust"}),t.jsx("p",{className:"text-white/60 text-xs leading-relaxed",children:"Complete sessions to collect stardust and unlock celestial rewards"})]}),t.jsxs("div",{className:"bg-white/5 rounded-2xl p-4 border border-white/10 backdrop-blur-sm",children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-pink-500/20 flex items-center justify-center mb-3",children:t.jsx(p,{className:"w-5 h-5 text-pink-300"})}),t.jsx("h3",{className:"text-white font-medium text-sm mb-2",children:"Track Your Progress"}),t.jsx("p",{className:"text-white/60 text-xs leading-relaxed",children:"Organize sessions by category and view detailed stats of your last 7 days of focus time"})]})]}),t.jsx("div",{className:"bg-gradient-to-r from-purple-500/10 to-blue-500/10 rounded-2xl p-4 border border-purple-500/30 mb-6",children:t.jsxs("p",{className:"text-purple-200 text-sm text-center flex items-center justify-center gap-2",children:[t.jsx(x,{className:"w-4 h-4 text-purple-300"}),t.jsx("span",{className:"font-medium",children:"Pro tip:"})," No account needed! Your progress saves automatically in your browser."]})}),t.jsxs("label",{className:"flex items-center justify-center gap-3 mb-6 cursor-pointer group",children:[t.jsx("input",{type:"checkbox",checked:a,onChange:e=>n(e.target.checked),className:"w-5 h-5 rounded bg-white/10 border-2 border-white/20 checked:bg-purple-500 checked:border-purple-500 cursor-pointer transition-all"}),t.jsx("span",{className:"text-white/70 text-sm group-hover:text-white/90 transition-colors",children:"Don't show this again"})]}),t.jsx("button",{onClick:()=>{a&&localStorage.setItem("astral-focus-welcome-seen","true"),r(!1)},className:"w-full py-4 rounded-2xl bg-gradient-to-r from-purple-500 to-blue-500 hover:from-purple-600 hover:to-blue-600 text-white font-medium transition-all duration-200 active:scale-[0.98] shadow-lg shadow-purple-500/30 hover:shadow-purple-500/40",children:"Start Focusing"}),t.jsx("span",{className:" items-center text-white/70 text-sm ",children:"Dedicated to the loveliest girl in the world."})]})]}),t.jsx("style",{children:"\n        @keyframes fadeIn {\n          from { opacity: 0; }\n          to { opacity: 1; }\n        }\n        @keyframes scaleIn {\n          from { transform: scale(0.95); opacity: 0; }\n          to { transform: scale(1); opacity: 1; }\n        }\n        @keyframes twinkle {\n          0%, 100% { opacity: 0.3; transform: scale(1); }\n          50% { opacity: 1; transform: scale(1.2); }\n        }\n        .animate-fadeIn {\n          animation: fadeIn 0.3s ease-out;\n        }\n        .animate-scaleIn {\n          animation: scaleIn 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);\n        }\n        .animate-twinkle {\n          animation: twinkle 3s ease-in-out infinite;\n        }\n      "})]}):null}function ce(){const[s,r]=e.useState(0),[a,n]=e.useState(0),[i,o]=e.useState(0),[l,c]=e.useState(!1),[d,u]=e.useState(!1),[m,h]=e.useState(!1),[p,x]=e.useState(!1),[j,v]=e.useState(null),[k,N]=e.useState(0),[S,M]=e.useState(!1),{addSession:C}=(()=>{const t=e.useContext(R);if(!t)throw new Error("useSession must be used within SessionProvider");return t})(),{addStardust:I}=T(),{currentCategory:D,recordSession:E}=L(),A=e.useRef(null),P=e.useRef(null),G=e.useRef(null),q=e.useRef(null);e.useEffect(()=>(A.current=new Audio("/assets/completion-CjiKCJ37.wav"),A.current.volume=1,A.current.load(),()=>{A.current&&(A.current.pause(),A.current=null)}),[]),e.useEffect(()=>{const e=z.get("equipped-planet");if(e){const t=Y.find(t=>t.id===e);t&&(v(t),t.name)}else v(Y[0])},[]),e.useEffect(()=>{},[j]);const B=3600*s+60*a+i,{timeLeft:F,displayMinutes:O,displaySeconds:W,displayHours:_,isRunning:J,start:K,pause:Q,reset:Z,progress:X}=((t,s)=>{const[r,a]=e.useState(t),[n,i]=e.useState(!1),[o,l]=e.useState(0),c=e.useRef(null),d=e.useRef(null),u=e.useRef(1e3*t),m=e.useRef(null),h=e.useRef(t);return e.useEffect(()=>{n||t===h.current||(h.current=t,u.current=1e3*t,a(t),l(0),m.current=null)},[t,n]),e.useEffect(()=>{if(n){m.current=Date.now(),c.current=setInterval(()=>{const e=Date.now(),t=e-m.current;m.current=e,u.current=Math.max(0,u.current-t);const r=Math.ceil(u.current/1e3);a(r),u.current<=0&&(i(!1),s?.())},50);const e=()=>{if(n&&h.current>0){const t=1-u.current/(1e3*h.current);l(Math.min(t,1)),d.current=requestAnimationFrame(e)}};d.current=requestAnimationFrame(e)}else c.current&&clearInterval(c.current),d.current&&cancelAnimationFrame(d.current);return()=>{c.current&&clearInterval(c.current),d.current&&cancelAnimationFrame(d.current)}},[n,s]),{timeLeft:r,displayHours:Math.floor(r/3600),displayMinutes:Math.floor(r%3600/60),displaySeconds:r%60,isRunning:n,start:()=>i(!0),pause:()=>i(!1),reset:()=>{i(!1),u.current=1e3*h.current,a(h.current),l(0),m.current=null},progress:o}})(B,()=>{A.current&&(A.current.currentTime=0,A.current.play().catch(e=>{})),h(!0);const e=Math.floor(B/60),t=I(e);N(t),B>=60&&E(B,D),C({id:Date.now(),duration:e,completedAt:(new Date).toISOString(),planetSize:1+B/1500,stardustEarned:t,planetUsed:j?.id||"planet-starter",category:D}),setTimeout(()=>{h(!1),Z(),c(!1),u(!1)},3e3)}),ee=()=>{0!==B&&(u(!1),l||c(!0),K())},te=Array.from({length:24},(e,t)=>t),se=Array.from({length:60},(e,t)=>t),re=Array.from({length:60},(e,t)=>t),ae=(e,t,s)=>{if(!e.current)return;const r=e.current.scrollTop,a=Math.round(r/60),n=Math.max(0,Math.min(a,s.length-1));requestAnimationFrame(()=>{t(s[n])})};return e.useEffect(()=>{d?setTimeout(()=>{P.current&&!P.current.dataset.initialized&&(P.current.scrollTop=60*s,P.current.dataset.initialized="true"),G.current&&!G.current.dataset.initialized&&(G.current.scrollTop=60*a,G.current.dataset.initialized="true"),q.current&&!q.current.dataset.initialized&&(q.current.scrollTop=60*i,q.current.dataset.initialized="true")},100):(P.current&&delete P.current.dataset.initialized,G.current&&delete G.current.dataset.initialized,q.current&&delete q.current.dataset.initialized)},[d]),t.jsxs("div",{className:"fixed inset-0 flex flex-col bg-gradient-to-b from-space-darker via-space-dark to-space-darker overflow-hidden touch-none",children:[t.jsx(le,{}),t.jsxs("div",{className:"absolute inset-0",children:[t.jsx($,{isActive:J,progress:X,planetSize:j?.size||1,planetColor:j?.color||"#8b5cf6",planetEmissive:j?.emissiveIntensity||.3,planetData:j,showCelebration:m}),p&&t.jsx(oe,{onClose:()=>{x(!1)},onEquipPlanet:e=>{v(e)}}),!p&&!d&&t.jsx(V,{showStatsPanel:S,setShowStatsPanel:M}),d&&!l&&t.jsx("div",{className:"absolute top-32 left-0 right-0 flex justify-center z-30",children:t.jsx(U,{isVisible:!0})}),t.jsx("div",{className:"absolute top-6 left-6 z-10",children:t.jsx(H,{})}),l&&t.jsx("div",{className:"absolute top-6 left-1/2 -translate-x-1/2 pointer-events-none z-10 max-w-[90vw]",children:t.jsxs("div",{className:"bg-black/20 backdrop-blur-md rounded-full px-4 sm:px-6 py-2 sm:py-3 border border-white/10",children:[t.jsxs("div",{className:"text-2xl sm:text-4xl font-light text-white/90 font-mono tracking-wider whitespace-nowrap",children:[_>0&&`${String(_).padStart(2,"0")}:`,String(O).padStart(2,"0"),":",String(W).padStart(2,"0")]}),D&&t.jsx("div",{className:"text-center text-white/50 text-[10px] sm:text-xs mt-0.5 sm:mt-1 tracking-wider",children:D})]})}),!l&&t.jsx("div",{className:"absolute bottom-8 left-8 z-10",children:t.jsx("button",{onClick:()=>{x(!0),M(!1)},className:"w-16 h-16 bg-white/15 backdrop-blur-xl hover:bg-white/25 rounded-full border border-white/20 flex items-center justify-center transition-all active:scale-90 shadow-2xl group",children:t.jsx(f,{size:26,strokeWidth:1.5,className:"text-white/90 group-hover:scale-110 transition-transform"})})}),!l&&!d&&t.jsx("div",{className:"absolute bottom-8 right-8 z-10",children:t.jsx("button",{onClick:()=>{Z(),u(!0),M(!1)},className:"w-16 h-16 bg-white/15 backdrop-blur-xl hover:bg-white/25 rounded-full border border-white/20 flex items-center justify-center transition-all active:scale-90 shadow-2xl group",children:t.jsx(g,{size:28,strokeWidth:1.5,className:"text-white/90 group-hover:scale-110 transition-transform"})})}),d&&t.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-20 bg-black/60 backdrop-blur-lg",children:t.jsxs("div",{className:"relative bg-gradient-to-br from-slate-900/90 via-purple-900/40 to-slate-900/90 backdrop-blur-2xl rounded-3xl p-8 border border-purple-500/30 max-w-md w-full mx-4 shadow-2xl",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/10 via-blue-500/10 to-pink-500/10 rounded-3xl blur-xl -z-10"}),t.jsx("div",{className:"absolute top-4 right-4 w-1 h-1 bg-white/60 rounded-full animate-pulse"}),t.jsx("div",{className:"absolute top-8 right-12 w-0.5 h-0.5 bg-white/40 rounded-full animate-pulse",style:{animationDelay:"0.5s"}}),t.jsx("div",{className:"absolute top-8 left-8 w-1 h-1 bg-purple-400/60 rounded-full animate-pulse",style:{animationDelay:"1s"}}),t.jsx("div",{className:"absolute top-12 left-16 w-0.5 h-0.5 bg-blue-400/40 rounded-full animate-pulse",style:{animationDelay:"1.5s"}}),t.jsx("div",{className:"absolute bottom-50 left-12 w-0.5 h-0.5 bg-white/40 rounded-full animate-pulse",style:{animationDelay:"0.5s"}}),t.jsx("h2",{className:"text-xl font-light text-white text-center mb-2 tracking-wide",children:"Set Focus Duration"}),t.jsxs("div",{className:"flex gap-3 items-center justify-center mb-8",children:[t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsxs("div",{ref:P,onScroll:()=>ae(P,r,te),className:"h-[180px] w-20 overflow-y-auto snap-y snap-mandatory scrollbar-hide relative",style:{maskImage:"linear-gradient(to bottom, transparent, black 25%, black 75%, transparent)",WebkitMaskImage:"linear-gradient(to bottom, transparent, black 25%, black 75%, transparent)"},children:[t.jsx("div",{className:"h-[60px]"}),te.map(e=>t.jsx("div",{className:"h-[60px] flex items-center justify-center text-3xl font-extralight snap-center transition-all duration-300 "+(e===s?"text-white scale-110 drop-shadow-[0_0_10px_rgba(167,139,250,0.8)]":"text-white/20 scale-90"),style:{userSelect:"none"},children:String(e).padStart(2,"0")},e)),t.jsx("div",{className:"h-[60px]"})]}),t.jsx("div",{className:"absolute top-[120px] left-0 right-0 h-[60px] border-y border-purple-500/30 pointer-events-none",style:{width:"20px",left:"calc(50% - 10px)"}}),t.jsx("div",{className:"text-purple-300/70 text-xs mt-3 font-light tracking-[0.2em] uppercase",children:"Hours"})]}),t.jsx("div",{className:"text-3xl text-purple-300/40 font-extralight pb-10",children:":"}),t.jsxs("div",{className:"flex flex-col items-center relative",children:[t.jsxs("div",{ref:G,onScroll:()=>ae(G,n,se),className:"h-[180px] w-20 overflow-y-auto snap-y snap-mandatory scrollbar-hide",style:{maskImage:"linear-gradient(to bottom, transparent, black 25%, black 75%, transparent)",WebkitMaskImage:"linear-gradient(to bottom, transparent, black 25%, black 75%, transparent)"},children:[t.jsx("div",{className:"h-[60px]"}),se.map(e=>t.jsx("div",{className:"h-[60px] flex items-center justify-center text-3xl font-extralight snap-center transition-all duration-300 "+(e===a?"text-white scale-110 drop-shadow-[0_0_10px_rgba(167,139,250,0.8)]":"text-white/20 scale-90"),style:{userSelect:"none"},children:String(e).padStart(2,"0")},e)),t.jsx("div",{className:"h-[60px]"})]}),t.jsx("div",{className:"absolute top-[120px] left-0 right-0 h-[60px] border-y border-purple-500/30 pointer-events-none",style:{width:"20px",left:"calc(50% - 10px)"}}),t.jsx("div",{className:"text-purple-300/70 text-xs mt-3 font-light tracking-[0.2em] uppercase",children:"Mins"})]}),t.jsx("div",{className:"text-3xl text-purple-300/40 font-extralight pb-10",children:":"}),t.jsxs("div",{className:"flex flex-col items-center relative",children:[t.jsxs("div",{ref:q,onScroll:()=>ae(q,o,re),className:"h-[180px] w-20 overflow-y-auto snap-y snap-mandatory scrollbar-hide",style:{maskImage:"linear-gradient(to bottom, transparent, black 25%, black 75%, transparent)",WebkitMaskImage:"linear-gradient(to bottom, transparent, black 25%, black 75%, transparent)"},children:[t.jsx("div",{className:"h-[60px]"}),re.map(e=>t.jsx("div",{className:"h-[60px] flex items-center justify-center text-3xl font-extralight snap-center transition-all duration-300 "+(e===i?"text-white scale-110 drop-shadow-[0_0_10px_rgba(167,139,250,0.8)]":"text-white/20 scale-90"),style:{userSelect:"none"},children:String(e).padStart(2,"0")},e)),t.jsx("div",{className:"h-[60px]"})]}),t.jsx("div",{className:"absolute top-[120px] left-0 right-0 h-[60px] border-y border-purple-500/30 pointer-events-none",style:{width:"20px",left:"calc(50% - 10px)"}}),t.jsx("div",{className:"text-purple-300/70 text-xs mt-3 font-light tracking-[0.2em] uppercase",children:"Secs"})]})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:()=>u(!1),className:"flex-1 py-3 rounded-full bg-white/5 hover:bg-white/10 text-white/60 font-light border border-white/10 transition-all active:scale-95 tracking-wide backdrop-blur-sm",children:"Cancel"}),t.jsx("button",{onClick:ee,disabled:0===B,className:"flex-1 py-3 rounded-full font-light transition-all active:scale-95 tracking-wide "+(0===B?"bg-white/5 text-white/30 cursor-not-allowed border border-white/5":"bg-gradient-to-r from-purple-500/80 to-blue-500/80 hover:from-purple-500 hover:to-blue-500 text-white border border-purple-400/50 shadow-lg shadow-purple-500/20"),children:"Begin Focus"})]})]})}),l&&t.jsxs("div",{className:"absolute bottom-8 left-0 right-0 flex justify-center gap-6 z-10",children:[J?t.jsx("button",{onClick:Q,className:"w-14 h-14 bg-blue-500/20 backdrop-blur-xl hover:bg-blue-500/30 rounded-full border border-blue-400/40 transition-all flex items-center justify-center active:scale-90 group shadow-lg shadow-blue-500/20",children:t.jsx(y,{size:20,strokeWidth:1.5,className:"text-blue-200 group-hover:scale-110 group-hover:text-white transition-all"})}):t.jsx("button",{onClick:ee,className:"w-14 h-14 bg-purple-500/20 backdrop-blur-xl hover:bg-purple-500/30 rounded-full border border-purple-400/40 transition-all flex items-center justify-center active:scale-90 group shadow-lg shadow-purple-500/20",children:t.jsx(b,{size:20,strokeWidth:1.5,className:"text-purple-200 ml-0.5 group-hover:scale-110 group-hover:text-white transition-all"})}),t.jsx("button",{onClick:()=>{if(l&&B-F>=60){E(B-F,D)}Z(),c(!1),u(!1),setTimeout(()=>{},100)},className:"w-14 h-14 bg-pink-500/20 backdrop-blur-xl hover:bg-pink-500/30 rounded-full border border-pink-400/40 transition-all flex items-center justify-center active:scale-90 group shadow-lg shadow-pink-500/20",children:t.jsx(w,{size:18,strokeWidth:1.5,className:"text-pink-200 group-hover:scale-110 group-hover:text-white transition-all"})})]})]})]})}function de(){return t.jsx(A,{children:t.jsx(D,{children:t.jsx(G,{children:t.jsx(ce,{})})})})}j.createRoot(document.getElementById("root")).render(t.jsx(v.StrictMode,{children:t.jsx(de,{})}));
